java中的栈(stack)和堆(heap)是java 内存中存放数据的地方

## 1、堆

存储的全是<mark>对象</mark>，每个对象都包含一个与之对应的class的信息。(class的目的是得到操作指令)；

<mark>jvm只有一个heap区</mark>，被所有线程所共享，只<mark>存放对象本身</mark>

> 堆的优点是可以动态的分配内存大小，生存期也不必实现告诉编译器，java的垃圾收集器会自动收取这些不再使用的数据
>
> 缺点是要在运行时动态分配内存，存取速度慢

## 2、栈

​	<mark>每一个线程</mark>包含一个stack区，只保存<mark>基本数据类型的对象和自定义对象的引用</mark>，对象都放在共享heap中。

​	每一个栈中的数据都是私有的，其他栈不能访问

> 栈分为3部分：基本类型变量区、执行环境上下文、操作指令区

> 栈的优点是存取速度更快，仅次于直接位于CPU的寄存器，但stack中的stack 数据大小与生存期必须是确定的，缺乏灵活性，单个stack中的数据可以共享



## 3、方法区

1、又叫静态区，跟堆一样，被<mark>所有的线程共享</mark>。方法区包含所有的<mark>class和static</mark>变量；

2、方法区中包含的都是在程序中永远唯一的元素